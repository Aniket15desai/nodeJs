<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
</head>
<style> @import url(https://fonts.googleapis.com/css?family=Roboto:400,300,500); *:focus {outline: none;} body {margin: 0;padding: 0;background: #DDD;font-size: 16px;color: #222;font-family: 'Roboto', sans-serif;font-weight: 300;}#login-box {position: relative;margin: 5% auto;width: 600px;height: 400px;background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url(./img/register.svg);background-position: center;background-size: cover;border-radius: 2px;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);}.left {position: absolute;top: 0;left: 0;box-sizing: border-box;padding: 40px;width: 300px;height: 400px;}.center{position: relative;box-sizing: border-box;padding: 40px;width: 100%;height: 300px;}.center input[type="password"]{width: 100%;} #chglogin-box{position: relative;margin: 5% auto;width: 600px;height: 400px;background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url(./img/log.svg);background-size: cover;background-position: center;border-radius: 2px;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);}h1 {margin: 0 0 20px 0;font-weight: 300;font-size: 28px;}input[type="text"], input[type="password"], input[type="email"] {display: block;box-sizing: border-box;margin-bottom: 20px;padding: 4px;width: 220px;height: 32px;border: none;border-bottom: 1px solid #AAA;font-family: 'Roboto', sans-serif;font-weight: 400;font-size: 15px;transition: 0.2s ease;}input[type="text"]:focus, input[type="password"]:focus, input[type="email"]:focus {border-bottom: 2px solid #16a085;color: #16a085;transition: 0.2s ease;}button[type="submit"] {margin-top: 1px;width: 120px;height: 32px;background: #16a085;border: none;border-radius: 2px;color: #FFF;font-family: 'Roboto', sans-serif;font-weight: 500;text-transform: uppercase;transition: 0.1s ease;cursor: pointer;}button[type="submit"]:hover,button[type="submit"]:focus {opacity: 0.8;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);transition: 0.1s ease;}button[type="submit"]:active {opacity: 1;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);transition: 0.1s ease;}.or {position: absolute;top: 180px;left: 280px;width: 40px;height: 40px;background: #DDD;border-radius: 50%;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);line-height: 40px;text-align: center;}.right {position: absolute;top: 0;right: 0;box-sizing: border-box;padding: 40px;width: 300px;height: 400px;background: url('https://goo.gl/YbktSj');background-size: cover;background-position: center;border-radius: 0 2px 2px 0;}.right .loginwith {display: block;margin-bottom: 40px;font-size: 28px;color: #FFF;text-align: center;}button.social-signin {margin-bottom: 20px;width: 220px;height: 36px;border: none;border-radius: 2px;color: #FFF;font-family: 'Roboto', sans-serif;font-weight: 500;transition: 0.2s ease;cursor: pointer;}button.social-signin:hover,button.social-signin:focus {box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);transition: 0.2s ease;}button.social-signin:active {box-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);transition: 0.2s ease;}button.social-signin.facebook {background: #32508E;}button.social-signin.twitter {background: #55ACEE;}button.social-signin.google {background: #DD4B39;} h1 {color: white;} p {color: white; font-size: 15px;}p a{color: red;} </style>
<body>
    <div id="login-box">
        <div class="left">
            <h1>Login</h1>
            <form method="POST" id="login-form">
                <input type="email" id="email" placeholder="E-mail">
                <input type="password" id="password" placeholder="Enter Password">
                <p>Don't have an account <a href="/register">Register</a></p>
                <button type="submit">Login</button>
                <p>Forgot Password Don't Worry <a href="/forgot">Click Here</a></p>
            </form>
        </div>
        <div class="right">
            <span class="loginwith">Sign in with<br />social network</span>

            <a href="https://en-gb.facebook.com/?lang=en">
                <button class="social-signin facebook">Log in with facebook</button>
            </a>
            <a href="https://twitter.com/?lang=en">
                <button class="social-signin twitter">Log in with Twitter</button>
            </a>
            <a href="https://accounts.google.com/signin/v2/identifier?flowName=GlifWebSignIn&flowEntry=ServiceLogin">
                <button class="social-signin google">Log in with Google+</button>
            </a>
        </div>
        <div class="or">OR</div>
    </div>

    <script>
        const form = document.getElementById('login-form')
        form.addEventListener('submit', loginUser)

		async function loginUser(event) {
			event.preventDefault()
			const email = document.getElementById('email').value
			const password = document.getElementById('password').value
			
			const result = await fetch('/login', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({
					email,
					password
				})
			}).then((res) => res.json())

			if (result.status === 'ok') {
				alert('Success')
                window.location = '/dashboard'
			} else {
				alert(result.error)
			}
		}
    </script>

</body>
</html>